(this.webpackJsonpstreamlit_component_template=this.webpackJsonpstreamlit_component_template||[]).push([[0],{151:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{u(a.next(e))}catch(t){o(t)}}function i(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((a=a.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(u){i=[6,u],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},c=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(i){r={error:i}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DnDFlow=void 0;var f=n(2),p=l(n(88));n(178);var v=d(n(179)),h=d(n(356)),m=n(357),y=n(358),b=d(n(359)),g=d(n(360)),_=d(n(361)),E=d(n(366)),w=l(n(87)),S=d(n(2)),N=new v.default.graphlib.Graph;N.setDefaultEdgeLabel((function(){return{}}));t.DnDFlow=function(){var e=(0,f.useRef)(null),t=c((0,p.useNodesState)([]),3),n=t[0],r=t[1],o=t[2],l=c((0,p.useEdgesState)([]),3),d=l[0],O=l[1],P=l[2],x=c((0,f.useState)(null),2),j=x[0],D=x[1],k=c((0,f.useState)({open:!1,type:"upload",data:{}}),2),C=k[0],M=k[1],T=c((0,f.useState)(!1),2),B=T[0],F=T[1],A=c((0,f.useState)([]),2),J=A[0],I=A[1];(0,f.useEffect)((function(){i(void 0,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,w.getFuncNodes()];case 1:return e=n.sent(),I(e),[3,3];case 2:return t=n.sent(),console.log("Error in API.getFuncNodes",t.toString()),[3,3];case 3:return[2]}}))}))}),[]);var L=(0,f.useMemo)((function(){return{textUpdater:function(e){return S.default.createElement(b.default,a({},e,{type:"varNode"}))},custom:function(e){return S.default.createElement(g.default,a({},e,{type:"funcNode",funcList:J}))}}}),[J]),G=(0,f.useCallback)((function(e){var t=e.source;e.target;if(!d.find((function(e){return e.source===t}))){var n=a(a({},e),{type:"smoothstep",animated:!0});O((function(e){return(0,p.addEdge)(n,e)}))}}),[d]),H=(0,f.useCallback)((function(e){var t=function(e,t,n){void 0===n&&(n="TB");var a="TB"===n;return N.setGraph({rankdir:n}),e.forEach((function(e){N.setNode(e.id,{width:200,height:75})})),t.forEach((function(e){N.setEdge(e.source,e.target)})),v.default.layout(N),e.forEach((function(e){var t=N.node(e.id);return e.targetPosition=a?"left":"top",e.sourcePosition=a?"right":"bottom",e.position={x:t.x-100,y:t.y-37.5},e})),{nodes:e,edges:t}}(n,d,e),a=t.nodes,o=t.edges;r(s([],c(a),!1)),O(s([],c(o),!1))}),[n,d]);(0,f.useEffect)((function(){H("TB")}),[B]);var z=(0,f.useCallback)((function(e){var t=(0,y.convertFuncNodeToJsonNode)(e),n=(0,y.convertFuncNodeToJsonEdge)(e);r(t),O(n),F(!B)}),[r,O,F]),U=(0,f.useCallback)((function(){if(j){var e=j.toObject(),t={func_nodes:(0,m.convertJsonToFuncNodes)(e)};M({open:!0,type:"download",data:t}),localStorage.setItem("example-flow",JSON.stringify(e)),localStorage.setItem("MappedJson",JSON.stringify(t))}}),[j]),R=(0,f.useCallback)((function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]),V=d.map((function(e){return e.sourceHandle&&(e.markerEnd={type:p.MarkerType.ArrowClosed}),e.id="".concat(e.source," + ").concat(e.target),e})),Y=(0,f.useCallback)((function(t){var n,a;t.preventDefault();var o=null===(a=null===e||void 0===e?void 0:e.current)||void 0===a?void 0:a.getBoundingClientRect(),l=t.dataTransfer.getData("application/reactflow");if("undefined"!==typeof l&&l){var i=null===j||void 0===j?void 0:j.project({x:t.clientX-o.left,y:t.clientY-o.top}),u=function(e){return"".concat("input"===e||"textUpdater"===e?"variable_"+Math.floor(1e3*Math.random()):"function_"+Math.floor(1e3*Math.random()))}(l),c={id:u,type:l,position:i,data:{label:"",initialEdge:"right"}};"custom"===l&&(c.data={label:"Add",ddType:"Add",initialEdge:"right",selects:(n={},n[u]="Add",n)}),r((function(e){return e.concat(c)}))}}),[j]),q=n.map((function(e){return e})),Z=function(){M({open:!1,type:"upload",data:{}})};return S.default.createElement("div",{className:"dndflow ".concat((null===C||void 0===C?void 0:C.open)&&"overlayEffect")},S.default.createElement(p.ReactFlowProvider,null,S.default.createElement(h.default,null),S.default.createElement("div",{className:"reactflow-wrapper",ref:e},S.default.createElement(p.default,{nodes:q,snapToGrid:!0,snapGrid:[2,2],edges:V,onNodesChange:o,onEdgesChange:P,isValidConnection:function(e){var t,a,r=e.source,o=e.target;return(null===(t=n.find((function(e){return e.id===r})))||void 0===t?void 0:t.type)!==(null===(a=n.find((function(e){return e.id===o})))||void 0===a?void 0:a.type)},onConnect:G,onInit:D,onDrop:Y,onDragOver:R,fitView:!0,nodeTypes:L},S.default.createElement(p.Background,{variant:p.BackgroundVariant.Lines,color:"#2a2b2d",style:{backgroundColor:"#1E1F22"}}),S.default.createElement(p.Controls,null),S.default.createElement(p.Panel,{position:"top-right"},S.default.createElement("button",{onClick:U,className:"saveBtn panelBtn"},"save"),S.default.createElement("button",{onClick:function(){F(!1),M(a(a({},C),{open:!0,type:"upload"}))},className:"panelBtn"},"load"))))),(null===C||void 0===C?void 0:C.open)&&S.default.createElement("div",{className:"overlayPosition"},"upload"===(null===C||void 0===C?void 0:C.type)?S.default.createElement(_.default,{onClose:Z,type:null===C||void 0===C?void 0:C.type,data:null===C||void 0===C?void 0:C.data,onDataUploaded:z}):S.default.createElement(E.default,{onClose:Z,type:null===C||void 0===C?void 0:C.type,data:null===C||void 0===C?void 0:C.data,onDataUploaded:z})))},t.default=(0,f.memo)(t.DnDFlow)},155:function(e,t,n){e.exports=n(369)},356:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(2));t.default=function(){var e=function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"};return r.default.createElement("aside",null,r.default.createElement("div",{className:"description"},"You can drag these nodes to the pane on the right."),r.default.createElement("div",{className:"dndnode input",onDragStart:function(t){return e(t,"textUpdater")},draggable:!0},"Variable Node"),r.default.createElement("div",{className:"dndnode function",onDragStart:function(t){return e(t,"custom")},draggable:!0},"Function Node"))}},357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertJsonToFuncNodes=void 0,t.convertJsonToFuncNodes=function(e){var t=e.edges,n=e.nodes,a=n.filter((function(e){return"custom"===e.type})),r=n.filter((function(e){return"custom"!==e.type})),o=[];return a.forEach((function(e){var n={};n.name=e.id,n.func_label=e.data.label;var a={};t.map((function(t){var o,l="string"===typeof t.id?null===(o=t.id)||void 0===o?void 0:o.split("+"):"";(l[0].trim()===e.id||l[1].trim()===e.id&&t.target===e.id)&&r.map((function(e){var n;e.id===t.source&&Object.assign(a,((n={})[e.data.label]=e.data.label,n))})),n.bind=a,(l[0].trim()===e.id||l[1].trim()===e.id&&t.source===e.id)&&r.map((function(e){e.id===t.target&&(n.out=e.data.label)}))})),o.push(n)})),o}},358:function(e,t,n){"use strict";var a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(i){r={error:i}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function o(){return Math.floor(350*Math.random())}Object.defineProperty(t,"__esModule",{value:!0}),t.convertFuncNodeToJsonEdge=t.randomPosition=t.convertFuncNodeToJsonNode=void 0,t.convertFuncNodeToJsonNode=function(e){var t=e.func_nodes,n=[],l=[],i=[];return t.map((function(e,t){var a={id:e.name,type:"custom",data:{label:e.func_label,selects:e.func_label},position:{x:o(),y:o()}};n.push(a),Object.values(e.bind).map((function(t){l.push(t),i.push(e.out)}))})),r([],a(new Set(r([],a(new Set(l)),!1).concat(r([],a(new Set(i)),!1)))),!1).map((function(e,t){var a={id:e,type:"textUpdater",data:{label:e},position:{x:o(),y:o()}};n.push(a)})),n},t.randomPosition=o,t.convertFuncNodeToJsonEdge=function(e){var t=e.func_nodes,n=[];return t.map((function(e){var t={id:"".concat(e.out+"."+e.name,"_edge"),markerEnd:{type:"arrowclosed"},source:e.name,target:e.out,type:"smoothstep",animated:!0};n.push(t),Object.values(e.bind).map((function(t){var a={id:"".concat(e.out+"."+e.name,"_edge"),markerEnd:{type:"arrowclosed"},source:t,target:e.name,type:"smoothstep",animated:!0};n.push(a)}))})),n}},359:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(i){r={error:i}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(2)),c=n(88),s=n(86);t.default=(0,u.memo)((function(e){var t=e.id,n=e.isConnectable,r=e.type,o=e.sourcePosition,l=e.data,d=i((0,u.useState)(e.data.label),2),f=d[0],p=d[1],v=i((0,u.useState)({title:"func_node",label:"func_label",placeHolder:"function name"}),2),h=v[0],m=v[1],y=i((0,u.useState)(!1),2),b=y[0],g=y[1],_=(0,c.useReactFlow)().setNodes,E=(0,c.useStoreApi)(),w=(0,u.useCallback)((function(e){var n=E.getState().nodeInternals,r=e.target.value;s.pythonIdentifierPattern.test(r)?(g(!1),p(r),_(Array.from(n.values()).map((function(e){return e.id===t&&(e.data=a(a({},e.data),{label:r})),e})))):(console.log("Invalid identifier"),g(!0))}),[e]);return(0,u.useEffect)((function(){"funcNode"!==r&&m({title:"var_node",label:"var_label",placeHolder:"variable name"})}),[e.type]),u.default.createElement("div",{className:"text-updater-node"},u.default.createElement("h4",{className:"nodeTitle ".concat(r)},h.title),u.default.createElement(c.Handle,{type:"target",position:"right"===(null===l||void 0===l?void 0:l.initialEdge)||"right"===o?c.Position.Top:c.Position.Left,isConnectable:n}),u.default.createElement("div",{className:"flexProps ".concat(r)},u.default.createElement("div",{className:"inputStyler"},u.default.createElement("label",{htmlFor:"text"},h.label,":"),u.default.createElement("input",{id:"text",name:"text",onChange:w,className:"titleBox",placeholder:h.placeHolder,value:f})),b&&u.default.createElement("span",{className:"invalidMsg"},"Invalid Entry")),u.default.createElement(c.Handle,{type:"source",position:"right"===(null===l||void 0===l?void 0:l.initialEdge)||"right"===o?c.Position.Bottom:c.Position.Right,isConnectable:n}))}))},360:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(i){r={error:i}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(2)),c=n(88),s=n(86);function d(e){var t=e.value,n=e.handleId,r=e.nodeId,o=e.sourcePosition,l=e.data,d=e.selector,f=(0,c.useReactFlow)().setNodes,p=(0,c.useStoreApi)(),v=i((0,u.useState)(),2),h=v[0],m=v[1],y=i((0,u.useState)(""),2),b=y[0],g=y[1],_=i((0,u.useState)(!1),2),E=_[0],w=_[1],S=(0,u.useCallback)((function(e){var t=p.getState().nodeInternals,n=e.target.value;s.pythonIdentifierPattern.test(n)?(g(n),w(!1),f(Array.from(t.values()).map((function(e){return e.id===r&&(e.data=a(a({},e.data),{label:n})),e})))):(console.log("Invalid identifier"),w(!0))}),[]);return u.default.createElement("div",{className:"custom-node__select"},u.default.createElement("select",{className:"nodrag titleBox",onChange:function(e){var t=p.getState().nodeInternals;m(e.target.value),f(Array.from(t.values()).map((function(t){var o;return t.id===r&&(t.data=a(a({},t.data),{label:e.target.value,ddType:e.target.value,selects:a(a({},t.data.selects),(o={},o[n]=e.target.value,o))})),t})))},value:t},null===d||void 0===d?void 0:d.map((function(e){return u.default.createElement("option",{key:null===e||void 0===e?void 0:e.value,value:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.label)}))),"new"===h&&u.default.createElement(u.default.Fragment,null,u.default.createElement("input",{id:"text",name:"text",onChange:S,className:"titleBox",value:b,placeholder:"function Name",pattern:s.pythonIdentifierPattern.toString()}),E&&u.default.createElement("span",{className:"invalidMsg"},"Invalid Entry")),u.default.createElement(c.Handle,{type:"target",position:"right"===(null===l||void 0===l?void 0:l.initialEdge)||"right"===o?c.Position.Top:c.Position.Left,id:n}),u.default.createElement(c.Handle,{type:"source",position:"right"===(null===l||void 0===l?void 0:l.initialEdge)||"right"===o?c.Position.Bottom:c.Position.Right,id:n}))}t.default=(0,u.memo)((function(e){var t=e.id,n=e.data,a=e.type,r=e.sourcePosition,o=e.funcList;return u.default.createElement("section",{className:"text-updater-node ".concat(a)},u.default.createElement("h4",{className:"nodeTitle ".concat(a)},"func_node"),u.default.createElement("div",{className:"flexProps ".concat(a)},u.default.createElement(d,{nodeId:t,value:"new"===n.ddType?n.ddType:n.label,handleId:n.label,sourcePosition:r,data:n,selector:o})))}))},361:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{u(a.next(e))}catch(t){o(t)}}function i(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((a=a.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(u){i=[6,u],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},u=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(i){r={error:i}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l};Object.defineProperty(t,"__esModule",{value:!0});var c=o(n(2)),s=o(n(87));t.default=(0,c.memo)((function(e){var t=this,n=e.onClose,a=u((0,c.useState)(JSON.stringify(e.data,null,2)),2),r=a[0],o=a[1],d=u((0,c.useState)(!1),2),f=d[0],p=d[1],v=u((0,c.useState)(!1),2),h=v[0],m=v[1],y=u((0,c.useState)(!1),2),b=y[0],g=y[1],_=u((0,c.useState)(""),2),E=_[0],w=_[1],S=u((0,c.useState)([]),2),N=S[0],O=S[1];return(0,c.useEffect)((function(){l(t,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,s.getDagList()];case 1:return e=t.sent(),O(e),[2]}}))}))}),[]),c.default.createElement("div",{className:"ModalBox"},c.default.createElement("h3",{className:"ModalTitle"},"DAG Load"),!h&&c.default.createElement("form",{onSubmit:function(a){return l(t,void 0,void 0,(function(){return i(this,(function(t){return a.preventDefault(),s.loadDag(E).then((function(t){e.onDataUploaded(t),p(!1),n()})).catch((function(e){console.log("errpr",e.message),p(!0)})),[2]}))}))}},c.default.createElement("div",{className:"dagList"},c.default.createElement("label",{htmlFor:"dagList"},"Choose your Dag:"),c.default.createElement("select",{name:"dagList",id:"dagList",defaultValue:"",onChange:function(e){return l(t,void 0,void 0,(function(){return i(this,(function(t){return w(e.target.value),[2]}))}))}},c.default.createElement("option",{disabled:!0,value:""},"Select a Dag"),null===N||void 0===N?void 0:N.map((function(e){return c.default.createElement("option",{key:null===e||void 0===e?void 0:e.value,value:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.label)})))),f&&c.default.createElement("p",{className:"jsonError"},"The JSON upload failed. Please check the JSON and try again"),c.default.createElement("button",{type:"submit",className:"uploadSubmitButton btnSize"},"Load"),c.default.createElement("button",{onClick:n,className:"uploadCancelButton btnSize"},"Close")),h&&c.default.createElement("form",{onSubmit:function(a){return l(t,void 0,void 0,(function(){var t;return i(this,(function(o){a.preventDefault();try{t=JSON.parse(r),e.onDataUploaded(t)}catch(l){return g(!0),[2]}return"upload"===e.type?localStorage.setItem("data",r):navigator.clipboard.writeText(r),n(),[2]}))}))}},c.default.createElement("textarea",{name:"data",value:r,onChange:function(e){o(e.target.value)},className:"textAreaSize",placeholder:"Paste Your JSON",required:!0}),b&&c.default.createElement("p",{className:"jsonError"},"The JSON upload failed. Please check the JSON and try again"),c.default.createElement("button",{type:"submit",className:"uploadSubmitButton btnSize"},"Load"),c.default.createElement("button",{onClick:n,className:"uploadCancelButton btnSize"},"Close")),h?c.default.createElement("p",{className:"sampleText"},c.default.createElement("span",{onClick:function(){return m(!1)},className:"clickHere"},c.default.createElement("b",null,"Click here")," ")," to Select a Dag"):c.default.createElement("p",{className:"sampleText"},c.default.createElement("span",{onClick:function(){return m(!0)},className:"clickHere"},c.default.createElement("b",null,"Click here")," "),"to Enter DAG JSON"))}))},366:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{u(a.next(e))}catch(t){o(t)}}function i(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((a=a.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(u){i=[6,u],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},c=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(i){r={error:i}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(2)),f=s(n(367)),p=l(n(87)),v=n(86);t.default=(0,d.memo)((function(e){var t=this,n=JSON.stringify(e.data,null,2),r=e.onClose,o=c((0,d.useState)(!1),2),l=o[0],s=o[1],h=c((0,d.useState)(""),2),m=h[0],y=h[1];return d.default.createElement("div",{className:"ModalBox"},d.default.createElement("form",{onSubmit:function(n){return i(t,void 0,void 0,(function(){var t;return u(this,(function(o){return n.preventDefault(),t=a({dagName:m},e.data),r(),p.saveDag(t).then((function(e){})).catch((function(e){return console.log("error",e.message)})),[2]}))}))},className:"jsonData"},d.default.createElement("h3",{className:"ModalTitle"},"Save DAG"),d.default.createElement("div",{className:"dagNameSection"},d.default.createElement("label",{htmlFor:"text"},"Name:"),d.default.createElement("input",{id:"text",name:"text",className:"dagNameBox",placeholder:"Name of DAG",required:!0,onChange:function(e){var t=e.target.value;v.pythonIdentifierPattern.test(t)&&y(t)},value:m})),d.default.createElement("img",{onClick:function(){navigator.clipboard.writeText(n),s(!0)},src:f.default,alt:"copyBtn",className:"copyBtn",title:l?"Copied!":"Copy"}),d.default.createElement("textarea",{name:"data",id:"textarea",value:n,className:"textAreaSize",placeholder:"Copy Your JSON",required:!0,readOnly:!0}),d.default.createElement("button",{type:"submit",className:"uploadSubmitButton btnSize"},"Save"),d.default.createElement("button",{onClick:r,className:"uploadCancelButton btnSize"},"Close")))}))},367:function(e,t,n){e.exports=n.p+"static/media/files.e95174f1.png"},369:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n.n(a),o=n(148),l=n.n(o),i=n(149),u=n(63),c=n(151),s=function(){return Object(a.useEffect)((function(){return u.Streamlit.setFrameHeight()})),r.a.createElement(c.DnDFlow,null)};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.StreamlitProvider,null,r.a.createElement(s,null))),document.getElementById("root"))},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pythonIdentifierPattern=void 0,t.pythonIdentifierPattern=/^[a-zA-Z_][a-zA-Z0-9_]*$/},87:function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{u(a.next(e))}catch(t){o(t)}}function i(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(u){i=[6,u],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveDag=t.loadDag=t.getDagList=t.getFuncNodes=void 0;var l=o(n(368)),i="http://52.188.113.129:8080/get_list_of_functions",u="http://52.188.113.129:8080/get_list_of_dag",c="http://52.188.113.129:8080/save_dag_data",s="http://52.188.113.129:8080/get_dag";function d(e,t){return a(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,l.default.post(e,t)];case 1:return[2,n.sent().data]}}))}))}t.getFuncNodes=function(){return d(i,{})},t.getDagList=function(){return d(u,{})};t.loadDag=function(e){return a(void 0,void 0,void 0,(function(){return r(this,(function(t){return[2,d(s,{name:e})]}))}))};t.saveDag=function(e){return a(void 0,void 0,void 0,(function(){return r(this,(function(t){return[2,d(c,e)]}))}))}}},[[155,1,2]]]);
//# sourceMappingURL=main.d8453dfc.chunk.js.map